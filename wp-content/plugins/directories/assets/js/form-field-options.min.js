"use strict";!function(v){DRTS.Form.field.options=function(o){var i=v(o);i.length&&i.find(".drts-form-field-options").sortable({handle:".drts-form-field-option-sort",containment:"parent",axis:"y",cursor:"move",cancel:"."+DRTS.bsPrefix+"disabled"}).end().on("keyup",".drts-form-field-option-new .drts-form-field-option-label",function(){var o=v(this).closest(".drts-form-field-option").find(".drts-form-field-option-value:not(.drts-form-field-value-filled)");o.length&&o.val(o.data("slugify")?this.value.latinise().replace(/\W+/g,"_").toLowerCase():this.value)}).on("keyup",".drts-form-field-option-new .drts-form-field-option-value",function(){v(this).toggleClass("drts-form-field-value-filled",0!==$this.val().length)}).find(".drts-form-field-option-csv").click(function(){var o=v(this),i=o.next();return i.is(":visible")?(i.slideUp("fast"),o.removeClass(DRTS.bsPrefix+"active").blur()):(autosize(i.slideDown("fast").focus()),o.addClass(DRTS.bsPrefix+"active")),!1}).end().find(".drts-form-field-option-icon").each(function(){DRTS.Form.field.iconpicker.factory(this)}).end().find(".drts-form-field-option-color").each(function(){DRTS.Form.field.colorpicker(v(this).closest(".drts-form-field-option"),{inputSelector:".drts-form-field-option-color"})})},DRTS.Form.field.options.add=function(o,i,t,e,n,r){var d=v(o),l=v(t).closest(".drts-form-field-option"),f=d.children('[class*="'+DRTS.bsPrefix+'col-"]').length?"> div > div > .drts-form-field-option":"> div > .drts-form-field-option",s=d.find(f),a=e?i+"[default][]":i+"[default]",c=l.find("input[name='"+a+"']").val(),p=l.clone().toggleClass("drts-form-field-option-new",!0).find(":text,:hidden").each(function(){var o=v(this);o.attr("name")&&o.attr("name",o.attr("name").replace(i+"[options]["+c+"]",i+"[options]["+s.length+"]"))}).end().clearInput().find("input[name='"+a+"']").val(s.length).end(),m=p.find(".drts-form-field-option-icon"),u=p.find(".drts-form-field-option-color");return m.length&&(m.data("current",""),DRTS.Form.field.iconpicker.factory(m)),u.length&&(p.find(".drts-form-field-option-color").css("background-color",""),DRTS.Form.field.colorpicker(p,{inputSelector:".drts-form-field-option-color"})),n&&p.find("input[name='"+a+"']").prop("checked",!0),p.hide().insertAfter(l),r&&r.call(null,p),p.slideDown(100),!1},DRTS.Form.field.options.remove=function(o,i,t){var e=v(o).find(".drts-form-field-option:not(.drts-form-field-option-disabled)");if(1!==e.length)return!!confirm(t)&&void v(i).closest(".drts-form-field-option").slideUp("fast",function(){v(this).remove()});e.clearInput()}}(jQuery);