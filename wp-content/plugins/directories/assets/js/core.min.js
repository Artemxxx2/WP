"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}if(void 0===DRTS)var DRTS={isRTL:!1,domain:null,path:"/",bsPrefix:"drts-bs-",cookieHash:"",params:{token:"_t_",contentType:"_type_",ajax:"_ajax_"},bsUseOriginal:!1,timeZone:"UTC"};!function(x){var r;if("undefined"==typeof console&&(console={log:function(){}}),DRTS.init=function(e){autosize(x("textarea:visible",e)),function(t){"ontouchstart"in document.documentElement||x('[rel*="sabaitooltip"]',t).each(function(){var e=x(this);e.sabaiTooltip({container:e.data("container")||t})})}(e),window.MSInputMethodContext&&document.documentMode&&x(".drts-grow,.drts-sm-grow,.drts-md-grow,.drts-lg-grow,.drts-xl-grow",e).removeClass("drts-grow drts-sm-grow drts-md-grow drts-lg-grow drts-xl-grow"),x(DRTS).trigger("drts_init.sabai",{context:x(e)})},DRTS.cache=(r={},function(e,t,a){if(1===arguments.length)return!!r[e]&&!(r[e].expires<(new Date).getTime())&&r[e].data;!1===t?delete r[e]:(a=a||600,r[e]={data:t,expires:(new Date).getTime()+1e3*a})}),DRTS.flash=function(e,t,a,r){if(null!=e&&""!==e)if("string"==typeof e)Swal.fire({title:e,type:"danger"===t?"error":t,toast:!0,position:r||"top-end",showConfirmButton:!1,showCloseButton:!0,timer:"success"!==t?6e4:a||5e3});else if(1===e.length)"string"==typeof e[0]?DRTS.flash(e[0],t,a):DRTS.flash(e[0].msg,e[0].level||t,e[0].delay||null);else{for(var i=0;i<e.length;i++)"string"==typeof e[0]?DRTS.flash(e[0],t,a):DRTS.flash(e[0].msg,e[0].level||t,e[0].delay||null),"string"==typeof e[i]?(e[i].title=e[i],e[i].type="danger"===t?"error":t):(e[i].title=e[i].msg,e[i].type="danger"===e[i].level?"error":e[i].level||t),e[i].toast=!0,e[i].position=r||"top-end",i===e.length-1?(e[i].showConfirmButton=!1,e[i].showCloseButton=!0):(e[i].showConfirmButton=!0,e[i].showCloseButton=!1,e[i].confirmButtonText="&raquo;");Swal.queue(e)}},DRTS.popover=function(t,a,e){if(t=t instanceof jQuery?t:x(t),e||!t.hasClass("drts-popover-processed")){if((a=a||{}).template||(a.template='<div class="'+DRTS.bsPrefix+'popover"><div class="'+DRTS.bsPrefix+'arrow"></div><div class="'+DRTS.bsPrefix+'popover-header"></div><div class="'+DRTS.bsPrefix+'popover-body"></div></div>'),t.data("popover-url")&&(a.url=t.data("popover-url")),a.url)if(0===a.url.indexOf("#")||0===a.url.indexOf("."))a.content=x(a.url).html();else{var r=DRTS.cache(a.url);r?a.content=r:(a.content='<div class="drts-ajax-loader" style="position:relative;"></div>',x.get(a.url,_defineProperty({},DRTS.params.ajax,1),function(e){DRTS.cache(a.url,e),t.attr("data-content",e).data("bs.popover").tip().find("."+DRTS.bsPrefix+"popover-body").html(e),t.sabaiPopover("show")}))}a.container||(a.container=t.closest(".drts")),t.data("popover-title")&&(a.title=t.data("popover-title")),t.sabaiPopover(a).sabaiPopover("show").addClass("drts-popover-processed"),x(t.data("bs.popover").getTipElement()).find("."+DRTS.bsPrefix+"close").on("click",function(){t.sabaiPopover("hide")}),DRTS.popoverInit||(x("body").on("click",function(t){x(".drts-popover-processed").each(function(){var e=x(this);e.is(t.target)||0!==e.has(t.target).length||0!==x("."+DRTS.bsPrefix+"popover").has(t.target).length||0!==x(t.target).parents(".drts-popover-ignore-click").length||e.sabaiPopover("hide")})}),DRTS.popoverInit=!0)}},DRTS.modal=function(e){var t=x("#drts-modal");if(t.length||(t=x('<div class="drts '+DRTS.bsPrefix+"modal"+(DRTS.isRTL?" drts-rtl":"")+'" id="drts-modal" style="display:none;"><div class="'+DRTS.bsPrefix+'modal-dialog"><div class="'+DRTS.bsPrefix+'modal-content"><div class="'+DRTS.bsPrefix+'modal-header"><div class="'+DRTS.bsPrefix+'modal-title"></div><button type="button" class="'+DRTS.bsPrefix+'close drts-modal-close" data-dismiss="modal"><span>&times;</span></button></div><div class="'+DRTS.bsPrefix+'modal-body"></div><div class="'+DRTS.bsPrefix+'modal-footer"></div></div></div></div>').prependTo("body")).on("shown.bs.modal",function(e){var t=x(this).find("."+DRTS.bsPrefix+"modal-content");t.css("width",t.parent().outerWidth()+"px")}),e){var a=t.find("."+DRTS.bsPrefix+"modal-dialog").removeClass(DRTS.bsPrefix+"modal-sm "+DRTS.bsPrefix+"modal-lg "+DRTS.bsPrefix+"modal-xl");"xl"!==e&&"lg"!==e&&"sm"!==e||a.addClass(DRTS.bsPrefix+"modal-"+e)}return t},DRTS.ajaxLoader=function(e,t,a){var r=!!e&&x(e);if(a){var i=x(a);if(!i.length)return;if(t)i.next(".drts-ajax-loader").remove();else{var n=i.position(),o=x('<div class="drts-ajax-loader"></div>').width(i.outerWidth()).height(i.outerHeight()).css({top:parseInt(n.top,10)+parseInt(i.css("margin-top"),10)+"px",left:parseInt(n.left,10)+parseInt(i.css("margin-left"),10)+"px",position:"fixed"===i.css("position")?"fixed":"absolute"});i.after(o)}r&&r.length&&r.blur().prop("disabled",!t).css("pointer-events",t?"auto":"none")}else r&&r.length&&r.blur().prop("disabled",!t).css("pointer-events",t?"auto":"none").toggleClass("drts-ajax-loading",!t)},DRTS.ajax=function(e){function i(e,r,t){var a="string"==typeof e?e:e.html;if(l.trigger&&l.trigger.removeClass(DRTS.bsPrefix+"disabled"),"#drts-modal"===l.container){var i;l.trigger?void 0===(i=l.trigger.data("modal-title"))&&(i=l.trigger.attr("title")||l.trigger.attr("data-original-title")||l.trigger.text()):l.modalTitle&&(i=l.modalTitle),i&&r.find("."+DRTS.bsPrefix+"modal-title").text(i),t?r.addClass(DRTS.bsPrefix+"fade"):r.removeClass(DRTS.bsPrefix+"fade");var n=r.find("."+DRTS.bsPrefix+"modal-footer").empty().end().find("."+DRTS.bsPrefix+"modal-body").html(a).find(".drts-form-buttons");n.length&&r.find("."+DRTS.bsPrefix+"modal-footer").append(n),r.sabaiModal("show").find("."+DRTS.bsPrefix+"modal-body").css({"max-height":"calc(100vh - 200px)","overflow-y":"auto"}),l.onContent&&l.onContent(e,r,l.trigger,t)}else l.replace?r=r.hide().after(a).remove().next():(l.callback||"drts-content"===r.attr("id")||r.addClass("drts-ajax"),"string"==typeof a?l.append?r.find(l.append).last().after(x(a).find(l.append)):(r.empty(),l.slideDown?r.hide().html(a).slideDown("fast",function(){r.show()}):r.html(a)):x.each(a,function(e,t){var a=void 0;if(!(a=r.find(e)).length)return!0;if(l.appendTo&&l.append&&l.appendTo===e){if(!t)return!0;a.find(l.append).last().after(x(t).find(l.append))}else{if(a.empty(),!t)return!0;l.slideDown?a.hide().html(t).slideDown("fast",function(){a.show()}):a.html(t)}}),r.show()),l.onContent&&l.onContent(e,r,l.trigger,t),l.highlight&&r.effect&&r.effect("highlight",{},1500);if(l.pushState&&window.history&&window.history.pushState){var o=DRTS.filterUrl(l.pushStateUrl||l.url,[DRTS.params.contentType]),s=[];x.each(o.query,function(e,t){s.push(t[0]+"="+encodeURIComponent(t[1]))}),s.length&&(o.search="?"+s.join("&")),o=o.toString(),l.state.data=l.data,l.state.url=o,l.state.container=l.container,l.state.target=l.target,window.history.pushState(l.state,null,o)}DRTS.init(r),x(DRTS).trigger("loaded.sabai",{container:l.container,target:r,response:e,context:r,append:l.append})}var n,o,l=x.extend({trigger:null,async:!0,type:"get",url:"",data:"",processData:!0,target:"",container:null,modalTitle:null,modalHideOnSend:!1,modalHideOnSuccess:!0,cache:!1,cacheId:null,cacheLifetime:600,onSendData:null,onSuccess:null,onError:null,onErrorRedirect:!1,onContent:null,onSuccessRedirect:!1,onSuccessRedirectUrl:null,effect:null,scroll:!1,replace:!1,highlight:!1,callback:!1,loadingImage:!0,position:!1,toggle:!1,pushState:!1,pushStateUrl:null,state:{},appendTo:null,append:null,slideDown:!1,modalSize:null},e),s="";if(l.trigger){if(l.trigger.hasClass(DRTS.bsPrefix+"disabled"))return;l.url||(l.url=l.trigger.data("ajax-url")),l.trigger.hasClass(DRTS.bsPrefix+"dropdown-link")&&(l.trigger=l.trigger.closest("."+DRTS.bsPrefix+"btn-group").find("."+DRTS.bsPrefix+"dropdown-toggle")),l.trigger.addClass(DRTS.bsPrefix+"disabled")}if(l.url){if(l.container)if(s=l.container,"#drts-modal"===l.container)n=DRTS.modal(l.modalSize);else if(l.target?(n=x(l.container).find(l.target),s=l.container+" "+l.target):n=x(l.container),!n.length)return void console.log(s);if(0!==l.url.indexOf("#")&&0!==l.url.indexOf(".")){if(l.cache&&"get"===l.type){var t=DRTS.cache(l.cacheId?l.cacheId:l.container+" "+l.url.replace(new RegExp("&"+DRTS.params.contentType+"=(html|json)","g"),""));if(t)return!l.scroll||!s||n&&"drts-modal"===n.attr("id")||DRTS.scrollTo(x.isNumeric(l.scroll)||"boolean"==typeof l.scroll?s:s+" "+l.scroll,null,x.isNumeric(l.scroll)?-1*l.scroll:null),void i(t,n,!0)}l.onSendData&&("object"!==_typeof(l.data)&&(l.data={}),l.onSendData(l.data,l.trigger)),"object"===_typeof(l.data)&&null!==l.data?(l.data.hasOwnProperty(DRTS.params.ajax)||(l.data[DRTS.params.ajax]=s||1),l.data=x.param(l.data)):"string"==typeof l.data&&""!==l.data?l.data+="&"+DRTS.params.ajax+"="+encodeURIComponent(s||1):l.data=DRTS.params.ajax+"="+encodeURIComponent(s||1),x.ajax({global:!0,async:l.async,type:l.type,dataType:"html",url:l.url,data:l.data,processData:l.processData,cache:!1,beforeSend:function(e){if(n&&"drts-modal"===n.attr("id")){var t;if(l.modalHideOnSend)n.sabaiModal("hide");else l.trigger?void 0===(t=l.trigger.data("modal-title"))&&(t=l.trigger.attr("title")||l.trigger.attr("data-original-title")||l.trigger.text()):l.modalTitle&&(t=l.modalTitle),t&&n.find("."+DRTS.bsPrefix+"modal-title").text(t),l.loadingImage&&n.removeClass(DRTS.bsPrefix+"fade").find("."+DRTS.bsPrefix+"modal-body").empty().addClass("drts-ajax-loading").end().find("."+DRTS.bsPrefix+"modal-footer").empty().end().sabaiModal("show")}else{if(l.scroll&&s&&DRTS.scrollTo(x.isNumeric(l.scroll)||"boolean"==typeof l.scroll?s:s+" "+l.scroll,null,x.isNumeric(l.scroll)?-1*l.scroll:null),!l.loadingImage)return;!l.append&&n&&"drts-content"!==n.attr("id")&&n.is(":visible")&&(o=n),(l.trigger||o)&&DRTS.ajaxLoader(l.trigger,!1,o)}},complete:function(t,e){if(l.loadingImage)if(n&&"drts-modal"===n.attr("id"))n.find("."+DRTS.bsPrefix+"modal-body").removeClass("drts-ajax-loading");else{var a=l.replace?s:o;(l.trigger||a)&&DRTS.ajaxLoader(l.trigger,!0,a)}switch(e){case"success":if(278===t.status||-1<t.getResponseHeader("content-type").indexOf("json")||"{"===t.responseText.slice(0,1)&&"}"===t.responseText.slice(-1))try{void 0!==(r=JSON.parse(t.responseText.replace(/<!--[\s\S]*?-->/g,""))).html?(i(r,n),l.cache&&"get"===l.type&&DRTS.cache(l.cacheId?l.cacheId:l.container+" "+l.url.replace(new RegExp("&"+DRTS.params.contentType+"=(html|json)","g"),""),r,l.cacheLifetime)):function(e,t){if(l.trigger&&l.trigger.removeClass(DRTS.bsPrefix+"disabled"),t&&"drts-modal"===t.attr("id")&&l.modalHideOnSuccess&&t.sabaiModal("hide"),l.onSuccess&&l.onSuccess(e,t,l.trigger),l.onSuccessRedirect){if(e.url)return window.location=e.url;if(l.onSuccessRedirectUrl)return window.location=l.onSuccessRedirectUrl}e.messages&&DRTS.flash(e.messages,"success")}(r,n)}catch(e){console.log(e.toString(),t.responseText)}else i(t.responseText,n),l.cache&&"get"===l.type&&DRTS.cache(l.cacheId?l.cacheId:l.container+" "+l.url.replace(new RegExp("&"+DRTS.params.contentType+"=(html|json)","g"),""),t.responseText,l.cacheLifetime);break;case"error":try{var r;!function(e,t,a){l.trigger&&l.trigger.removeClass(DRTS.bsPrefix+"disabled"),l.onError&&l.onError(e,t,l.trigger,a),l.onErrorRedirect&&e.url?window.location=e.url:e.messages&&("#drts-modal"===l.container?(t.sabaiModal("hide"),DRTS.flash(e.messages,"danger")):l.trigger?(DRTS.popover(l.trigger,{content:e.messages[0].msg,html:!0,container:l.trigger.closest(".drts"),title:l.trigger.attr("data-sabaipopover-title")||""}),l.trigger.attr("onclick","return false;")):DRTS.flash(e.messages,"danger"))}(r=JSON.parse(t.responseText.replace(/<!--[\s\S]*?-->/g,"")),n,t.status)}catch(e){console.log(e.toString(),t.responseText)}}}})}else i(x(l.url).html(),n,!0)}},DRTS.scrollTo=function(e,t,a,r){(e=e instanceof jQuery?e:x(e)).length&&(t=null!=t?t:200,a=null!=a?a:0,x("#wpadminbar").length&&(a-=x("#wpadminbar").outerHeight()),x("html, body").animate({scrollTop:e.offset().top+a,duration:t}).promise().done(r))},DRTS.states=function(e,t){function a(e,l,d,c){var t=x(e,c);t.length&&t.each(function(){var e,t,a,r,i,n,o=x(this);for(var s in o.hasClass("drts-entity-form-field")&&o.parent(".drts-display-element").length&&(o=o.parent(".drts-display-element")),o.data("guid")||o.data("guid",DRTS.guid()),d)if(i=(a=d[s]).container||"form",(t=o.closest(i)).length)if((e=t.find(a.target)).length){switch(r=["initialized.sabai"],a.type){case"selected":case"unselected":r.push("change","cloneremoved","optionsloaded");break;case"checked":case"unchecked":r.push("change","cloneremoved","switchChange.bootstrapSwitch");break;case"focus":case"blur":r.push("focus","blur");break;case"values":case"count":default:r.push("keyup","change","cloneremoved","optionsloaded")}f.push(e);for(s=0;s<r.length;s++)n=r[s]+".sabai."+l+"."+o.data("guid"),e.off(n).on(n,function(a,r,i,n,o,s){return function(e,t){u(a,r,i,n,o,s,e.type,t)}}(e,o,l,d,c,i))}else console.log("Invalid or non existent dependee selector: "+a.target),d.splice(s,1);else console.log("Invalid or non existent container selector: "+(a.container||"form")),d.splice(s,1)})}var f=[],p={visible:"invisible",visible_enable:"invisible_disable",unchecked:"checked",unload_options:"load_options",show_options:"hide_options",enable_options:"disable_options",enabled:"disabled",unplaceholder:"placeholder"},u=function(e,t,a,r,i,n,o,s){var l,d,c;if(a.match(/_or$/))for(var f in l=!1,a=a.slice(0,a.length-3),r){if(c=r[f],!(d=t.closest(n).find(c.target)).length)return;if(h(d,c.type||"value",c.value)){l=!0;break}}else for(var f in l=!0,r){if(c=r[f],!(d=t.closest(n).find(c.target)).length)return;if(!h(d,c.type||"value",c.value)){l=!1;break}}a in p&&(a=p[a],l=!l),g(t,a,l,e,o,s,c)},h=function(e,t,a){function r(e,r){var i=[];return e.each(function(){var e=this;if("INPUT"===e.nodeName){if(("checkbox"===e.type||"radio"===e.type)&&!e.checked)return!0}else{if("SELECT"!==e.nodeName)return!0;if(!e.options[e.selectedIndex])return!0;if(e.hasAttribute("multiple")){for(var t=0,a=e.options.length;t<a;t++)e.options[t].selected&&(i.push(e.options[t].value),!1!==r&&e.options[t].hasAttribute("data-alt-value")&&i.push(e.options[t].getAttribute("data-alt-value")));return!0}e=e.options[e.selectedIndex]}i.push(e.value),!1!==r&&e.hasAttribute("data-alt-value")&&i.push(e.getAttribute("data-alt-value"))}),i}var i;switch(t){case"value":case"!value":case"one":"object"!==(void 0===a?"undefined":_typeof(a))&&(a=[a]),i=r(e);var n=a.length,o=i.length;e:for(var s=0;s<n;s++){for(var l=0;l<o;l++)if(a[s]==i[l]){if("!value"===t)return!1;if("one"===t)return!0;continue e}if("value"===t)return!1}return"one"!==t;case"^value":return"string"==typeof(i=e.val())&&i.startsWith(a);case"$value":return"string"==typeof(i=e.val())&&i.endsWith(a);case"*value":return"string"==typeof(i=e.val())&&i.includes(a);case">value":case"<value":case"<>value":var d;for(o=(i=r(e)).length,s=0;s<o;s++){if("string"==typeof i[s])if(-1!==i[s].indexOf(";"))d=i[s].split(";",2);else if(-1!==i[s].indexOf(","))d=i[s].split(",",2);else{if(!x.isNumeric(i[s]))continue;d=[i[s]]}else if("number"==typeof i[s])d=[i[s]];else{if(!x.isArray(i[s]))continue;d=[i[s]]}switch(t){case">value":if(!x.isNumeric(a))return!1;if(Number(d[0])>Number(a))return!0;break;case"<value":if(!x.isNumeric(a))return!1;if(1===d.length){if(Number(d[0])<Number(a))return!0}else if(Number(d[1])<Number(a))return!0;break;case"<>value":if(!x.isArray(a)){if("string"!=typeof a||-1===a.indexOf(","))return!1;a=a.split(",",2)}if(!x.isNumeric(a[0])||!x.isNumeric(a[1]))return!1;if(1===d.length){if(Number(d[0])>=Number(a[0])&&Number(d[0])<=Number(a[1]))return!0}else if(Number(d[0])>=Number(a[0])&&Number(d[1])<=Number(a[1]))return!0}}return!1;case"count":return(i=r(e,!1)).length===a;case"checked":case"unchecked":var c=!1;return e.each(function(){var e=x(this);if("checkbox"===e.attr("type")&&e.prop("checked")===Boolean(a)||"hidden"===e.attr("type")&&Boolean(e.val())===Boolean(a))return!(c=!0)}),"checked"===t?c:!c;case"empty":case"filled":case"filled_no_trim":case"selected":c=!1;return e.each(function(){if("checkbox"===this.type||"radio"===this.type){if(x(this).prop("checked")!==Boolean(a))return!(c=!0)}else{var e=x(this).val();if("filled_no_trim"!==t&&(e=x.trim(x(this).val())),""===e===Boolean(a))return!(c=!0)}}),"empty"===t?c:!c;case"focus":return e.is(":focus")===Boolean(a);case"blur":return e.is(":focus")!==Boolean(a);default:return alert("Invalid condition type: "+t),!1}},g=function(a,e,t,r,i,n,o){switch(e){case"invisible":case"invisible_disable":a.toggleClass("drts-form-states-invisible",t),t?n&&a.hasClass("drts-form-has-error")?(a.show(),t=!1):a.hide():a.is(":hidden")&&(n?a.show():(a.css("opacity",0).slideDown(100).animate({opacity:1},{queue:!1,duration:"slow"}),a.hasClass("drts-form-field")&&a.parent("."+DRTS.bsPrefix+"form-inline").length&&a.css("display","inline-block"))),"invisible_disable"===e&&a.find(":input").prop("disabled",t),x(DRTS).trigger("none"===a.css("display")?"drts_hidden.sabai":"drts_shown.sabai",{element:a,isInit:n});break;case"disabled":t?(a.css({position:"relative",opacity:.5}),a.find("> .drts-cover").length||a.append('<div class="drts-cover" style="position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;"></div>')):a.css({opacity:1}).find("> .drts-cover").remove(),a.find(":input").prop("disabled",t);break;case"checked":a.find(":checkbox").prop("checked",t).change();break;case"placeholder":var s=a.find('input[type="text"]');if(!s.length)return;if(t){var l=r.val();s.each(function(){var e=x(this);void 0===e.attr("original-placeholder")&&e.attr("original-placeholder",e.attr("placeholder")||""),e.attr("placeholder",e.data(DRTS.camelize("placeholder-"+l))||"")})}else s.each(function(){var e=x(this);e.attr("placeholder",e.data("original-placeholder")||"")});break;case"load_options":if("change"!==i&&"initialized"!==i&&"optionsloaded"!==i)return;if("change"===i){var d=a.closest(".drts-view-fiter-form");if(d.length&&!d.hasClass("drts-view-filter-form-manual")&&!d.closest("#drts-modal").length)return}var c=a.find("select");if(t){var f,p=c.data("load-url"),u=p+r.val(),h=c.data("options-prefix")||"",g=function(e,t){a.hide().addClass("drts-was-hidden"),e=a.hasClass(DRTS.bsPrefix+"row")||a.hasClass(DRTS.bsPrefix+"form-row")?"flex":a.hasClass("drts-form-field")&&a.parent("."+DRTS.bsPrefix+"form-inline").length?"inline":"block",t?a.css("display",e):a.hide().css("display",e).fadeIn("fast")},v=function(e){if(DRTS.cache(u,e),void 0!==e&&0===e.length)return c.data("show-empty")||a.hide(),c.data("default-value","").val(""),void c.trigger("optionsloaded.sabai",[n]);if(x.each(e,function(e,t){var a=h+t.title;"number"==typeof t.count&&(a+=" ("+t.count+")"),c.append(x("<option></option>").attr("data-alt-value",t.name).text(a).val(t.id))}),!a.closest(".drts-cloned").length){var t=c.data("default-value");void 0!==t&&(c.val(t),c.trigger("optionsloaded.sabai",[n]))}!a.hasClass("drts-form-states-invisible")&&a.is(":hidden")&&c.find('option[value!=""]').length&&g()};n&&"init"in o&&!o.init?g():(c.find('option[value!=""]').remove(),!1!==(f=DRTS.cache(u))?v(f):(r.addClass("drts-ajax-loading"),x.getJSON(p,{parent:r.val()},v).always(function(){r.removeClass("drts-ajax-loading")})))}else c.find('option[value!=""]').remove(),!a.is(":hidden")&&a.hasClass("drts-was-hidden")&&(a.hide(),c.data("default-value","").val(""),c.trigger("optionsloaded.sabai",[n]));break;case"disable_options":l=r.val();var m=a.data("options")&&a.data("options")[l]?a.data("options-allowed")[l]:[];a.find("option").each(function(){var e=x(this);-1!==x.inArray(e.attr("value"),m)?e.prop("disabled",t):e.prop("disabled",!t)});break;case"hide_options":var b=[];if(r.each(function(){"checkbox"===this.type||"radio"===this.type?this.checked&&b.push(this.value):b.push(x(this).val())}),!t||!b.length)return;a.find("input").each(function(){var e=x(this),t=e.data("values"),a=e.closest(".drts-form-field-radio-option");if(a.length){for(var r=0;r<b.length;r++)if(-1!==x.inArray(b[r],t))return void a.slideDown(100);"checkbox"!==this.type&&"radio"!==this.type||(this.checked=!1),a.hide()}});break;case"slugify":n||a.find("input").val(r.val()).change();break;default:alert("Invalid action: "+e)}};for(var r in e)for(var i in e[r])a(r,i,e[r][i].conditions,t);for(var n in f)f[n].data("initialized")||f[n].trigger("initialized.sabai",[!0]).data("initialized",!0)},DRTS.camelize=function(e){return e.replace(/^([A-Z])|[\s-_]+(\w)/g,function(e,t,a){return a?a.toUpperCase():t.toLowerCase()})},DRTS.cloneField=function(e,t,a,r){var i,n;if(i=x(e).find(t),n=r||i.length,!(a&&i.length>=a)){var o=i.first(),s="drts-"+DRTS.guid(),l=o.data("form-field-name").replace(/\[\d+\]$/,"["+n+"]"),d=o.clone().find(".drts-form-field-removable").remove().end().addClass("drts-cloned").attr("id",s).attr("data-form-field-name",l).find("[data-form-field-name]").each(function(){var e=x(this);e.attr("data-form-field-name",e.attr("data-form-field-name").replace(o.data("form-field-name"),l))}).end().find("[data-input-name]").each(function(){var e=x(this);e.attr("data-input-name",e.attr("data-input-name").replace(o.data("form-field-name"),l))}).end().find(":input,:hidden").each(function(){var e=x(this);e.attr("name")&&e.attr("name",e.attr("name").replace(o.data("form-field-name"),l)),e.attr("id")&&e.attr("id",e.attr("id")+"-"+n),e.removeData("default-value").removeAttr("data-default-value"),x.fn.uniform&&e.parent().is(".selector")&&e.prev("span").remove().end().unwrap().uniform().parent(".selector").show()}).end().clearInput().find("label").each(function(){var e=x(this);e.attr("for")&&e.attr("for",e.attr("for")+"-"+n)}).end().removeClass("drts-form-has-error").find(".drts-form-error").text("").end().find(".drts-form-has-error").each(function(){x(this).removeClass("drts-form-has-error")}).end().find(".drts-was-hidden").hide().end().hide().insertAfter(i.last());d.addClass("drts-form-field-removable").css("position","relative").append('<button type="button" class="'+DRTS.bsPrefix+"btn "+DRTS.bsPrefix+"btn-danger "+DRTS.bsPrefix+'btn-sm drts-form-field-remove"><i class="fas fa-times"></i></button>').slideDown(100),x(DRTS).trigger("clonefield.sabai",{container:e,field:o,clone:d,index:n})}},DRTS.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},window.history&&window.history.pushState){var a=!1,i=window.location.href.replace(/%2F/g,"/");x(window).on("popstate",function(e){if(a||(a=!0,location.href.replace(/%2F/g,"/")!=i)){var t=e.originalEvent.state;if(t){if(t.data&&t.data.replace)return t.data=t.data.replace(/(^\?)/,"").split("&").map(function(e){return this[(e=e.split("="))[0]]=e[1],this}.bind({}))[0],t.data[DRTS.params.ajax]=t.target?t.container+" "+t.target:t.container,DRTS.ajax(t),void x(DRTS).trigger("sabaipopstate.sabai",t);console.log("Popped state date property is not a valid query string.",t)}else x(window).off("popstate");window.location.href=window.location.href}})}if(window.location.hash){var e=x(".drts-content-tab[data-target='"+window.location.hash+"']");e.length&&(e.closest("."+DRTS.bsPrefix+"tab-pane").length&&x(".drts-content-tab[data-target='#"+e.closest("."+DRTS.bsPrefix+"tab-pane").attr("id")+"']").click(),e.click())}DRTS.filterUrl=function(e,r){var i=e?x("<a/>").prop("href",e)[0]:window.location;if(i.query=[],i.search&&"string"==typeof i.search){var t=i.search.substr(1).replace(/\+/g,"%20").split("&");x.each(t,function(e,t){var a=t.split("=");if(a[1].length&&(!r||-1===x.inArray(a[0],r))){try{a[1]=decodeURIComponent(a[1])}catch(e){}i.query.push(a)}})}return i},DRTS.setCookie=function(e,t,a,r){if(null!==t){var i={path:DRTS.path,domain:DRTS.domain};a&&(i.expires=a),x.cookie(e,t,i)}else x.cookie(e,null);r&&window.location.reload(!0)},DRTS.getScreenSize=function(){var e=x("#drts-screen-size");return e.length||(x("body").append('<div id="drts-screen-size" class="drts"><div class="'+DRTS.bsPrefix+'d-sm-none" data-screen-size="xs"></div><div class="'+DRTS.bsPrefix+"d-none "+DRTS.bsPrefix+"d-sm-block "+DRTS.bsPrefix+'d-md-none" data-screen-size="sm"></div><div class="'+DRTS.bsPrefix+"d-none "+DRTS.bsPrefix+"d-md-block "+DRTS.bsPrefix+'d-lg-none" data-screen-size="md"></div><div class="'+DRTS.bsPrefix+"d-none "+DRTS.bsPrefix+"d-lg-block "+DRTS.bsPrefix+'d-xl-none" data-screen-size="lg"></div></div>'),e=x("#drts-screen-size")),e.find("div:visible").first().data("screen-size")||"xl"},DRTS.sprintf=function(e){var i=Array.prototype.slice.call(arguments,1);return e.replace(/%0(\d+)d/g,function(e,t){var a=String(i.shift()),r="";for(t=parseInt(t)-a.length;0<=--t;)r+="0";return r+a}).replace(/%[sdf]/g,function(e){return DRTS.sprintf._SPRINTF_HASH[e](i.shift())})},DRTS.sprintf._SPRINTF_HASH={"%s":String,"%d":parseInt,"%f":parseFloat},x.fn.sabaiAlert=x.fn.alert.noConflict(),x.fn.sabaiButton=x.fn.button.noConflict(),x.fn.sabaiCollapse=x.fn.collapse.noConflict(),x.fn.sabaiDropdown=x.fn.dropdown.noConflict(),x.fn.sabaiModal=x.fn.modal.noConflict(),x.fn.sabaiTooltip=x.fn.tooltip.noConflict(),x.fn.sabaiPopover=x.fn.popover.noConflict(),x.fn.sabaiScrollspy=x.fn.scrollspy.noConflict(),x.fn.sabaiTab=x.fn.tab.noConflict(),DRTS.bsUseOriginal&&(x.fn.alert=x.fn.sabaiAlert,x.fn.button=x.fn.sabaiButton,x.fn.collapse=x.fn.sabaiCollapse,x.fn.dropdown=x.fn.sabaiDropdown,x.fn.modal=x.fn.sabaiModal,x.fn.tooltip=x.fn.sabaiTooltip,x.fn.popover=x.fn.sabaiPopover,x.fn.scrollspy=x.fn.sabaiScrollspy,x.fn.tab=x.fn.sabaiTab),x.fn.clearInput=function(){return this.each(function(){var e=x(this),t=e.get(0).tagName.toLowerCase();if(void 0!==e.data("default-value"))return e.val(e.data("default-value"));if("input"!==t)return"textarea"===t?e.val(""):"select"===t?0<e.find('option[value=""]').length?e.val(""):e.prop("selectedIndex",0):e.find(":input").clearInput();var a=e.attr("type");return"checkbox"===a||"radio"===a?e.prop("checked",!1):e.val("")})},Object.values||(Object.values=function(t){return Object.keys(t).map(function(e){return t[e]})})}(jQuery);