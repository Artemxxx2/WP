"use strict";!function(a){DRTS.FrontendSubmit=DRTS.Voting||{},DRTS.FrontendSubmit.verifyAccountWP=function(s){s=a.extend({},{verifyAccountUrl:null,verifyAccountText:null,unverifyAccountUrl:null,unverifyAccountText:null,resendVerifyAccountKeyUrl:null,resendVerifyAccountKeyText:null},s);var t=a("#the-list");if(!("ontouchstart"in document.documentElement)){var e=a('<div class="drts"></div>').appendTo(a("body"));a('[rel*="sabaitooltip"]',t).each(function(){a(this).sabaiTooltip({container:e})})}s.verifyAccountUrl&&t.on("click",".drts_frontendsubmit_verify_account a",function(){var r=a(this);return DRTS.ajax({type:"post",url:s.verifyAccountUrl,data:{id:r.data("user-id")},trigger:r,onSuccess:function(t,e,n){t.messages&&DRTS.flash(t.messages,"success"),n.closest("tr").find("td.drts_frontendsubmit_verify i").fadeOut("fast",function(){var t=a(this);t.removeClass("fa-times-circle").addClass("fa-check-circle").parent().removeClass(DRTS.bsPrefix+"text-danger").addClass(DRTS.bsPrefix+"text-success").attr("data-original-title",""),t.fadeIn("slow")}),n.closest(".row-actions").append('<span class="drts_frontendsubmit_unverify_account"><a href="#" data-user-id="'+r.data("user-id")+'"></a></span>').find(".drts_frontendsubmit_unverify_account a").text(s.unverifyAccountText).end().find(".drts_frontendsubmit_verify_account, .drts_frontendsubmit_resend_verify_account_key").remove()},onError:function(t){t.messages&&DRTS.flash(t.messages,"danger")}}),!1}),s.resendVerifyAccountKeyUrl&&t.on("click",".drts_frontendsubmit_resend_verify_account_key a",function(){var t=a(this);return DRTS.ajax({type:"post",url:s.resendVerifyAccountKeyUrl,data:{id:t.data("user-id")},trigger:t,onSuccess:function(t,e,n){t.messages&&DRTS.flash(t.messages,"success"),n.closest("tr").find("td.drts_frontendsubmit_verify span span").attr("data-original-title",t.title)},onError:function(t){t.messages&&DRTS.flash(t.messages,"danger")}}),!1}),s.unverifyAccountUrl&&t.on("click",".drts_frontendsubmit_unverify_account a",function(){var t=a(this);return DRTS.ajax({type:"get",container:"#drts-modal",modalSize:"lg",url:s.unverifyAccountUrl,data:{id:t.data("user-id")},trigger:t}),!1}),a(DRTS).on("drts_frontendsubmit_unverify_account",function(t,e){var n=a("tr#user-"+e.id).find(".drts_frontendsubmit_unverify_account");n.closest("tr").find("td.drts_frontendsubmit_verify i").fadeOut("fast",function(){var t=a(this);t.removeClass("fa-check-circle").addClass("fa-times-circle").parent().removeClass(DRTS.bsPrefix+"text-success").addClass(DRTS.bsPrefix+"text-danger").attr("data-original-title",e.title),t.fadeIn("slow")}),n.closest(".row-actions").append('<span class="drts_frontendsubmit_verify_account"><a href="#" data-user-id="'+e.id+'"></a> | </span><span class="drts_frontendsubmit_resend_verify_account_key"><a href="#" data-user-id="'+e.id+'"></a></span>').find(".drts_frontendsubmit_verify_account a").text(s.verifyAccountText).end().find(".drts_frontendsubmit_resend_verify_account_key a").text(s.resendVerifyAccountKeyText).end().find(".drts_frontendsubmit_unverify_account").remove()})}}(jQuery);